CREATE OR REPLACE TABLE address(
	address_id VARCHAR(255) PRIMARY KEY,
	street VARCHAR(255) NOT NULL,
	building VARCHAR(255) NOT NULL,
	house VARCHAR(255) NOT NULL,
	porch VARCHAR(255) NOT NULL,
	floor VARCHAR(255) NOT NULL,
	room VARCHAR(255) NOT NULL,
	user_id INTEGER NOT NULL
);

CREATE OR REPLACE TABLE orders(
	order_id INTEGER PRIMARY KEY,
	status VARCHAR(255) NOT NULL,
	order_price INTEGER NOT NULL,
	order_timestamp TIMESTAMP NOT NULL,
	user_id INTEGER NOT NULL,
	address_id VARCHAR(255) NOT NULL
);

CREATE OR REPLACE TABLE order_item(
	order_item_id INTEGER PRIMARY KEY,
	product_id INTEGER NOT NULL,
	quantity INTEGER NOT NULL,
	item_price INTEGER NOT NULL,
	order_id INTEGER NOT NULL
);

CREATE OR REPLACE TABLE products(
	product_id INTEGER PRIMARY KEY,
	description VARCHAR(255) NOT NULL,
	price INTEGER NOT NULL,
	weight INTEGER NOT NULL,
	product_group_id INTEGER NOT NULL,
	product_image_url VARCHAR(255)
);

CREATE OR REPLACE TABLE product_group(
	product_group_id INTEGER PRIMARY KEY,
	title VARCHAR(255) NOT NULL,
	description VARCHAR(255) NOT NULL
);


CREATE OR REPLACE TABLE role(
	role_id INTEGER PRIMARY KEY,
	title VARCHAR(255) NOT NULL
);

CREATE OR REPLACE TABLE users(
	user_id INTEGER PRIMARY KEY,
	last_name VARCHAR(255) NOT NULL,
	first_name VARCHAR(255) NOT NULL,
	patronymic VARCHAR(255) NOT NULL,
	email VARCHAR(255) NOT NULL,
	phone VARCHAR(255) NOT NULL,
	login VARCHAR(255) NOT NULL,
	password VARCHAR(255) NOT NULL
);

CREATE OR REPLACE TABLE user_role(
	user_id INTEGER NOT NULL,
	role_id INTEGER NOT NULL
);

INSERT INTO role VALUES (1, 'user'),
			(2, 'admin');
INSERT INTO product_group VALUES (1, 'Десерты', ''),
				    (2, 'Выпечка', ''),
		                    (3, 'Напитки', '');
INSERT INTO products VALUES (1,"Вкусный сырник из лучшего швейцарского сыра",300,228,1,"photos/syrnik.jpg"),
							(2,"Шоколадное полено из древесины карельской берёзы",1337,404,1,"photos/poleno.jpg"),
							(3,"Розовозелёнослоновские макароны альденте по-флотски",1941,1945,1,"photos/macaroni.jpg");
